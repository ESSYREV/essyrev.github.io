<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-color: #352d2d;
        }

        pre.lua-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            white-space: pre;
            margin: 0;
        }
        .lua-keyword { color: #ff79c6; }
        .lua-string { color: #f1fa8c; }
        .lua-number { color: #bd93f9; }
        .lua-comment { color: #6272a4; }
        .lua-function { color: #50fa7b; }
    </style>
</head>
<body>
    <pre id="code-container" class="lua-code"></pre>

    <script>
        const luaCode = `
local tbl = {
    '‚òÖ –ö–∞—Ä—Ç–æ—à–µ—á–∫–∞ ü•î ‚òÖ',
    '‚òÖ‚òÜ –ö–∞—Ä—Ç–æ—à–µ—á–∫–∞ ü•î ‚òÜ‚òÖ',
    '‚òÖ‚òÜ‚òÜ –ö–∞—Ä—Ç–æ—à–µ—á–∫–∞ ü•î ‚òÜ‚òÜ‚òÖ',
    '‚òÖ‚òÜ –ö–∞—Ä—Ç–æ—à–µ—á–∫–∞ ü•î ‚òÜ‚òÖ',
}


local num = 1
timer.Create("esrv_overhead_chat",0.75,0,function()

    local str = tbl[num]

    net.Start("potato_chat_overhead")
    net.WriteString(str)
    net.SendToServer()

    num = num + 1
    if num > #tbl then num = 1 end

end)`;

        function highlightLua(code) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã –∏ —Ç–∞–±—ã
            const escaped = code
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/ /g, '&nbsp;')
                .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');
            
            // –¢–µ–ø–µ—Ä—å –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º (–≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫!)
            return escaped
                .replace(/(&nbsp;)*--[^<]*/g, '<span class="lua-comment">$&</span>')
                .replace(/(["'])(?:(?=(\\?))\2.)*?\1/g, '<span class="lua-string">$&</span>')
                .replace(/\b\d+(\.\d+)?\b/g, '<span class="lua-number">$&</span>')
                .replace(/\b(function|end|if|then|else|elseif|for|while|do|repeat|until|in|local|return|break|nil|false|true|and|or|not|change_me|use|lua_run_self|lua_send_self|e2|me|this)\b/g, 
                    '<span class="lua-keyword">$&</span>')
                .replace(/\b(print|type|pairs|ipairs|next|error|assert|pcall|xpcall|LocalPlayer|Entity)\b/g, 
                    '<span class="lua-function">$&</span>');
        }

        document.getElementById('code-container').innerHTML = 
            highlightLua(luaCode);
    </script>
</body>
</html>
